<!DOCTYPE html>
<html>
<head lang="es">
    <meta charset="UTF-8">
    <title></title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/app.css" rel="stylesheet">
</head>
<body ng-app="requisitos_aulas" ng-controller="controllerTitulaciones as titu">
    <div class="row clearfix">
        <div class="col-md-12 column" >
            <div class="row clearfix">
                <div class="col-md-4 column">
                    <div sticky offset="105" id="MenuRecursos">
                        <h5> Recursos Específicos </h5>
                        <accordion close-others="oneAtATime" >
                            <accordion-group  is-open="status.open" ng-repeat="recurso in titu.listaRecursos" ng-click="titu.showListaRecursos(recurso)">

                                <accordion-heading>
                                    {{recurso.tipo}} <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i>
                                </accordion-heading>

                                    <div class="btn btn-default" ng-repeat="tipoRecurso in recurso.recursos"
                                         dnd-draggable="tipoRecurso"
                                         dnd-effect-allowed="copy"
                                         dnd-selected="models.selected = tipoRecurso">
                                        {{tipoRecurso.descripcion}}
                                    </div>
                            </accordion-group>
                        </accordion>


                        <h5> Gestión de Aulas </h5>
                        <accordion close-others="oneAtATime" >
                            <accordion-group  is-open="status.open" >
                                <accordion-heading>
                                    Aulas Centralizadas <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i>
                                </accordion-heading>
                                    <div class="btn btn-default" ng-repeat="aulaCentralizada in titu.tiposAulaCentralizadas"
                                         dnd-draggable="tipoAula"
                                         dnd-effect-allowed="copy"
                                         dnd-selected="models.selected = tipoAula">
                                        {{aulaCentralizada.DESCRIP}}
                                    </div>
                            </accordion-group>
                            <accordion-group  is-open="status.open" >
                                <accordion-heading>
                                    Aulas No Centralizadas <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i>
                                </accordion-heading>
                                    <div class="btn btn-default" ng-repeat="aulaNoCentralizada in titu.tiposAulaNoCentralizadas"
                                         dnd-draggable="tipoAula"
                                         dnd-effect-allowed="copy"
                                         dnd-selected="models.selected = tipoAula">
                                        {{aulaNoCentralizada.DESCRIP}}
                                    </div>
                            </accordion-group>
                        </accordion>
                    </div>
                </div>
                <div class="col-md-8 column">
                    <div>
                      <tabset type="pills">
                        <tab ng-repeat="titulacion in titulaciones" heading="{{titulacion.CODTIT}}" active="tab.active" disabled="tab.disabled">
                          <accordion id="accordionCustom" close-others="oneAtATime" >


                            <accordion-group is-open="status.open" ng-repeat="curso in titulacion.cursos">

                                <accordion-heading>

                                    {{curso.nombre}}

                                    <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i>
                                </accordion-heading>
                                <i type="btn" class="close" data-dismiss="modal" aria-label="Close" ng-click="removeByCurso(titulacion.CODTIT, curso.nombre)"  ><span aria-hidden="true">&times;</span></i>
                                <div  ng-repeat="asignatura in curso.asignaturas">
                                        <table class="table table-bordered">
                                                <thead>
                                                <tr>
                                                    <th class="tablaNombreAsignatura">{{asignatura.NOMBRE}}
                                                    </th>
                                                    <th>Recurso
                                                        <i type="btn" class="close" data-dismiss="modal" aria-label="Close" ng-click="removeByAsignatura(titulacion.CODTIT, curso.nombre, asignatura.CODASI)"  ><span aria-hidden="true">&times;</span></i>
                                                    </th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr ng-repeat="actividad in asignatura.actividades">
                                                    <td>{{actividad.ACTIVIDAD | capitalize}}
                                                    </td>
                                                    <td dnd-list="actividad.listaRecursos">
                                                        <i type="btn" class="close" data-dismiss="modal" ng-click="removeByActividad(titulacion.CODTIT, curso.nombre, asignatura.CODASI, actividad.CODACT)"
                                                           aria-label="Close"><span aria-hidden="true">&times;</span></i>
                                                        <div class="btn btn-default" ng-repeat="tipoRecurso in actividad.listaRecursos"
                                                             dnd-draggable="tipoRecurso"
                                                             dnd-effect-allowed="move"
                                                             dnd-moved="actividad.listaRecursos.splice($index, 1)"
                                                             dnd-selected="models.selected = tipoRecurso">
                                                            <i type="btn" class="close" data-dismiss="modal" ng-click="removeByRecurso(titulacion.CODTIT, curso.nombre, asignatura.CODASI, actividad.CODACT, tipoRecurso)"
                                                               aria-label="Close"><span aria-hidden="true">&times;</span></i>
                                                            {{tipoRecurso.descripcion}}
                                                        </div>
                                                        <div class="btn btn-default" ng-repeat="tipoAula in actividad.listaAulas"
                                                             dnd-draggable="tipoAula"
                                                             dnd-effect-allowed="move"
                                                             dnd-moved="actividad.listaRecursos.splice($index, 1)"
                                                             dnd-selected="models.selected = tipoAula">
                                                            <i type="btn" class="close" data-dismiss="modal" ng-click="removeByRecurso(titulacion.CODTIT, curso.nombre, asignatura.CODASI, actividad.CODACT, tipoAula)"
                                                               aria-label="Close"><span aria-hidden="true">&times;</span></i>
                                                            {{tipoAula.DESCRIP}}
                                                        </div>
                                                    </td>
    
                                                </tr>

                                                </tbody>

                                        </table>
                                </div>

                            </accordion-group>
                        </accordion>
                        </tab>
                      </tabset>
                    </div>
                </div>
            </div>
        </div>
    </div>





<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
<script src="js/angular-drag-and-drop-lists.min.js"></script>
<script src="js/ui-bootstrap-tpls-0.12.1.min.js"></script>
<script src="js/sticky.js"></script>
<script src="js/app.js"></script>
</body>
</html>